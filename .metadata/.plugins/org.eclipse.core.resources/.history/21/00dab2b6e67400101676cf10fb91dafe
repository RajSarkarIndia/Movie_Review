<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    <%@ page isELIgnored="false" %>
    <%@ page import="java.util.List" %>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>All Movies</h1>
<div class="movie-container">
<%
    List movies = (List) session.getAttribute("movies");
    if (movies != null && !movies.isEmpty()) {
        for (int i = 0; i < Math.min(6, movies.size()); i++) {
            request.setAttribute("movie", movies.get(i));
%>
    <div class="movie-item">
      <a href="/MovieReview/SelectedFlim?search=${movie.movieName}">${movie.movieName}
        <img src="${pageContext.request.contextPath}/image/${movie.movieImageURL}" alt="${movie.movieName}" />
        <h4>Rating: ${movie.getMovieRating()}</h6>
        <h4>Released: ${movie.getReleaseDate()}</h6>
        <h4>Genra: ${movie.getGenra()}</h4>
      </a>
    </div>
<%
        }
    } else {
%>
    <p>No movies available.</p>
<%
    }
%>
</div>
</body>
</html>